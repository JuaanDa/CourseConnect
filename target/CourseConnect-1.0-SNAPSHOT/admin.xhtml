<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">


<h:head>
   <title>CourseConnect-Admin</title>
   <link rel="stylesheet" type="text/css" href="css/styles.css" />
   <link rel="stylesheet" type="text/css" href="css/admin.css" />
   <link rel="icon" type="icon" href="images/icon.png" />

</h:head>

<h:body>
   <div class="header">
      <div class="menu-container">
         <div class="admin" id="admin">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
         </div>
         <div class="menu" id="menu">

            <h:form>
               <a href="admin.xhtml"><img class="adminlogo" src="images/admin.png" alt="adminlogo" /></a>

               <p:panelMenu style="width:200px">

                  <p:submenu label="Dashboard">
                     <p:menuitem value="Dashboard" action="#{adminView.dashboard()}" icon="pi pi-home" update="@all" />
                  </p:submenu>
                  <p:submenu label="Gestión de Cursos">
                     <p:menuitem value="Crear Curso" action="#{adminView.crearCurso()}" icon="pi pi-file-plus" update="@all"/>
                     <p:menuitem value="Modificar Curso" action="#{adminView.modificarCurso()}" icon="pi pi-file-plus" update="@all"/>
                     <p:menuitem value="Modificar Precios" action="#{adminView.modificarPrecio()}" icon="pi pi-money-bill" update="@all"/>
                     <p:menuitem value="Modificar Modalidades" action="#{adminView.updateModes}"/>
                  </p:submenu>
                  <p:submenu label="Gestión de Inscripciones">
                     <p:menuitem value="Habilitar Inscripciones" action="#{adminView.enableRegistrations}"/>
                     <p:menuitem value="Deshabilitar Inscripciones" action="#{adminView.disableRegistrations}"/>
                  </p:submenu>
                  <p:submenu label="Reportes">
                     <p:menuitem value="Curso Más Vendido" action="#{adminView.bestSellingCourse}"/>
                     <p:menuitem value="Cursos por Vencer" action="#{adminView.expiringCourses}"/>
                  </p:submenu>
                  <p:submenu label="Gestión Estudiantes">
                     <p:menuitem value="Estudiantes Inscritos" action="#{adminView.registeredStudents}"/>
                     <p:menuitem value="Pagos Realizados" action="#{adminView.completedPayments}"/>
                     <p:menuitem value="Pagos Pendientes" action="#{adminView.pendingPayments}"/>
                  </p:submenu>
               </p:panelMenu>
            </h:form>
         </div>
      </div>
      <div class="logo">
         <a href="index.xhtml"><img src="images/imagotipo.png" alt="Logo" /></a>
      </div>
   </div>

   <div class="admin-panel" id="admin-panel">

      <p:panel id="dashboardPanel" rendered="#{adminView.showDashboardPanel}">
         <ui:include src="Dashboard.xhtml" />
      </p:panel>


      <p:panel id="crearcursoPanel"  rendered="#{adminView.showCrearCurso}">
         <ui:include src="FormularioCurso.xhtml" />
      </p:panel>


      <p:panel id="modifcarCursoPanel"  rendered="#{adminView.showModificarCurso}">
         <ui:include src="ModificarCurso.xhtml" />
      </p:panel>

      <p:panel id="modifcarPrecioPanel"  rendered="#{adminView.showModificarPrecio}">
         <ui:include src="ModificarPrecios.xhtml" />
      </p:panel>

   </div>


   <div class="footer">
      <p>
         &copy; 2024 CourseConnect&nbsp; &nbsp;Programación 2&nbsp; &nbsp;Universidad
         El Bosque
      </p>
   </div>
   <script type="">
      const admin = document.getElementById('admin');
      const body = document.body; // Agrega esta línea

      admin.addEventListener('click', () => {
         body.classList.toggle('menu-open'); // Agrega esta línea

      });

   </script>
</h:body>
</html>
