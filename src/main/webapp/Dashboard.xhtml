<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>Course Dashboard</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
    <link rel="stylesheet" type="text/css" href="css/dashboard.css" />
    <link rel="icon" type="icon" href="images/icon.png" />
</h:head>

<h:body>
    <div class="card crud-demo">
        <h:form id="form">
            <p:growl id="messages" showDetail="true" />

            <p:toolbar>
                <p:toolbarGroup>
                    <!-- Botón para crear un nuevo curso -->
                    <p:commandButton value="Nuevo Curso" icon="pi pi-plus" action="#{adminView.crearCurso()}"
                                     update="@all"
                                     styleClass="ui-button-success" style="margin-right: 10px;" />

                    <!-- Botón para modificar un curso -->
                    <p:commandButton value="Modificar Curso" icon="pi pi-pencil" action="#{adminView.modificarCurso()}"
                                     update="@all"
                                     styleClass="ui-button-warning" style="margin-right: 10px;" />

                    <!-- Botón para modificar el precio -->
                    <p:commandButton value="Modificar Precio" icon="pi pi-dollar" action="#{adminView.modificarPrecio()}"
                                     update="@all"
                                     styleClass="ui-button-info" style="margin-right: 10px;" />

                    <!-- Botón para modificar modalidades -->
                    <p:commandButton value="Modificar Modalidad" icon="pi pi-tags" action="#{adminView.modificarModalidades()}"
                                     update="@all"
                                     styleClass="ui-button-secondary" style="margin-right: 10px;" />
                    <!-- Botón para finalizar curso -->
                    <p:commandButton value="Finalizar Curso" icon="pi pi-cloud-download" action="#{adminView.finalizarCurso()}"
                                     update="@all"
                                     styleClass="ui-button-danger" />

                </p:toolbarGroup>
            </p:toolbar>


            <p:dataTable id="dt-courses" widgetVar="dtCourses" var="curso" value="#{cursoView.cursos}"
                         paginator="true" rows="5" selection="#{cursoView.cursos}" rowKey="#{curso.id_Curso}" paginatorPosition="bottom" >
                <f:facet name="header">
                    <div class="courses-table-header">
                        <span style="font-weight: bold">CURSOS</span>

                    </div>
                </f:facet>

                <p:ajax event="rowSelect" update="@all" />
                <p:ajax event="rowUnselect" update="@all" />


                <p:column headerText="Id" sortBy="#{curso.id_Curso}" filterBy="#{curso.id_Curso}">
                    <h:outputText value="#{curso.id_Curso}" />
                </p:column>


                <p:column headerText="Titulo" sortBy="#{curso.tituloCurso}" filterBy="#{curso.tituloCurso}">
                    <h:outputText value="#{curso.tituloCurso}" />
                </p:column>

                <p:column headerText="Imagen" exportable="false">
                    <p:graphicImage value="#{curso.urlImagenCurso}" alt="Course Image" style="width: 70%; height: 100px; border-radius: 15px"/>
                </p:column>
                <p:column headerText="Tipo" sortBy="#{curso.tipoCurso}" filterBy="#{curso.tipoCurso}">
                    <h:outputText value="#{curso.tipoCurso}" />
                </p:column>
                <p:column headerText="Modalidad" sortBy="#{curso.modalidadCurso}" filterBy="#{curso.modalidadCurso}">
                    <h:outputText value="#{curso.modalidadCurso}" />
                </p:column>
                <p:column headerText="Precio Curso" sortBy="#{curso.costoCurso}">
                    <h:outputText value="#{curso.costoCurso}">
                    </h:outputText>
                </p:column>

            </p:dataTable>
        </h:form>

    </div>
</h:body>
</html>
